---
date: 2019-12-24
url: /2019/12/24/zig-ffi/
title: "Zig Foreign Function Interface"
tags: [programming, c-lang, zig-lang, xlib, x11]
---

# Introduction & Motivation
In my last [post]() I delved into Odin's FFI as a result of wanting to sling together a simple demonstration of multithreaded HTTP calls, motivated by the Concurrent Web Crawler example in Chatper 8. Goroutines and Channels from the book "The Go PRogramming Language."

I'll go back a little further for some more context around that specific exploration.
In the [post previous to my last one]() I wrote about how I like Odin but have decided to use Zig going forward because it seems more mature and robust for doing the kind of work I'm interested in.
Very soon after that I tried to write some X Windows code and quickly ran into some difficulties.
In this post I will explore some of what Zig has to offer for C FFI.

# Zig's Documentation
One major difference between Zig and Odin is that Zig's documentation is much farther along than Odin's.  However, both of them are a far cry from, for example, where Rust is at, or even something like cppreference.com.

For the purposes of this blog post I will be referring to Zig release 0.5.0.  This is the latest pointed release as of this writing.

Zig's documentation has a section on [interfacing with C](https://ziglang.org/documentation/0.5.0/#C).

When you read this documentation you come away with a few main points:

- C string literals
- Import from C header file
- C pointers
- Exporting Zig code as a C library
- Mixing Zig object files with C ABI-compatible object files

This is all fantastic stuff!

For the purposes of building an X Windows demo, importing from a C header file looks like exactly the right tool, so let's try that:
